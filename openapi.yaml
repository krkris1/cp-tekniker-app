openapi: 3.0.3
info:
  title: CP-Tekniker Device Management API
  version: 1.0.0
  description: |
    API-dokumentasjon for CP-Tekniker Device Management App. Dette dekker alle publiserte (backend) endepunkter og de viktigste eksterne ClearPass-API-endepunktene som brukes av backend.
servers:
  - url: http://localhost:8000
    description: Lokal utviklingsserver

paths:
  /request_auth_code:
    post:
      summary: Be om autentiseringskode
      description: Sender en engangskode til en godkjent e-postadresse.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                  format: email
                  example: bruker@eksempel.no
      responses:
        '200':
          description: Kode sendt
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        '400':
          description: Manglende eller ugyldig e-post
        '403':
          description: E-post/domene ikke godkjent
        '429':
          description: For mange foresp√∏rsel
