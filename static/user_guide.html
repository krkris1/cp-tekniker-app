<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <title>Brukerveiledning for enhetsadministrasjon</title>
    <style>
        html, body {
            height: 100%;
        }
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            max-width: 820px;
            margin: 0 auto;
            padding: 2.5rem 1.5rem 2.5rem 1.5rem;
            line-height: 1.7;
            color: #222;
            background: #f8fafc;
            min-height: 100vh;
        }
        h1, h2, h3 {
            color: #1a237e;
            font-weight: 600;
        }
        h1 {
            border-bottom: 2px solid #e0e7ef;
            padding-bottom: 12px;
            margin-bottom: 1.5rem;
            font-size: 2.2rem;
        }
        h2 {
            margin-top: 2.5em;
            border-bottom: 1px solid #e0e7ef;
            padding-bottom: 6px;
            font-size: 1.4rem;
        }
        h3 {
            margin-top: 1.7em;
            font-size: 1.1rem;
        }
        p, ul, ol, blockquote {
            margin-bottom: 1.1em;
        }
        ul, ol {
            padding-left: 1.5em;
        }
        li {
            margin: 0.4em 0;
        }
        code {
            background-color: #f1f5f9;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Fira Mono', 'Consolas', monospace;
            font-size: 0.98em;
        }
        blockquote {
            margin: 1.2em 0;
            padding: 0.7em 1.2em;
            border-left: 4px solid #90caf9;
            background: #f5faff;
            color: #374151;
            border-radius: 0 8px 8px 0;
        }
        img {
            display: inline-block;
            vertical-align: middle;
            margin: 0 5px;
            max-width: 1.5em;
        }
        hr {
            border: none;
            border-top: 1px solid #e0e7ef;
            margin: 2.5em 0 2em 0;
        }
        .section-list {
            background: #e3eafc;
            border-radius: 8px;
            padding: 1em 1.5em;
            margin-bottom: 2em;
        }
        @media (max-width: 600px) {
            body {
                padding: 1rem 0.2rem;
            }
            h1 {
                font-size: 1.3rem;
            }
            h2 {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>

<h1>Brukerveiledning for enhetsadministrasjon</h1>

<p>Denne veiledningen beskriver steg for steg hvordan du som sluttbruker navigerer i appen for å hente, opprette og redigere enheter. Alt grensesnitt er på norsk og tilrettelagt for enkel bruk uten tekniske detaljer.</p>

<hr>

<h2>1. Innlogging</h2>

<p>1. <strong>Åpne appen</strong>. Du møter et innloggingsvindu.</p>
<p>2. Tast inn e-postadressen din og trykk <strong>«Send kode»</strong>. Du mottar en engangskode på e-post.</p>
<p>3. Skriv inn den mottatte koden og trykk <strong>«Verifiser kode»</strong>.</p>
<p>4. Når koden er godkjent, kommer du til hovedskjermen for enhetsadministrasjon.</p>

<blockquote>**Viktig:** Hvis innloggingen feiler (feil kode eller nettverksproblem), vises en feilmelding i rødt øverst på skjermen. Prøv på nytt, eller kontakt systemansvarlig ved vedvarende problemer.</blockquote>

<hr>

<h2>2. Oversikt og navigasjon</h2>

<h3>Ikoner og knapper</h3>

<ul>
    <li><strong>+</strong>: Brukes for å opprette ny enhet.</li>
    <li><strong>Kamera</strong>: Brukes for OCR-skanning for å lese av MAC-adresse.</li>
    <li><strong>Rediger</strong>: Brukes for å gå til redigeringsmodus i enhetsdialog.</li>
    <li><strong>Lagre</strong>: Brukes for å lagre endringer i redigeringsmodus.</li>
    <li><strong>Avbryt</strong>: Brukes for å avbryte endringer i redigeringsmodus.</li>
</ul>

<p>Når du er logget inn, ser du følgende elementer:</p>

<ul>
    <li><strong>Toppfelt</strong> med app-ikon og navn til venstre, og en utloggingsknapp til høyre.</li>
    <li><strong>Meldingsfelt (“toast”)</strong> øverst – brukes til å vise suksess- eller feilmeldinger etter handlinger.</li>
    <li><strong>Hovedområde</strong> med:</li>
    <ul>
        <li>Et inntastingsfelt for <strong>MAC-adresse</strong>.</li>
        <li>Knappen <strong>«Hent enhet»</strong> for å søke opp eksisterende enhet basert på MAC.</li>
        <li>En <strong>drop-down meny for rollevalg</strong> som viser de tilgjengelige rollene.</li>
        <li>Et tekstfelt for <strong>enhetsnavn</strong>.</li>
        <li>En <strong>datovelger for utløpstid</strong> (dato og klokkeslett).</li>
        <li>En <strong>avkryssningsboks for “Aktivert”</strong>.</li>
        <li>Et tekstfelt som viser hvem som er <strong>«Sponset av»</strong>, automatisk utfylt ved oppretting eller redigering.</li>
        <li>To <strong>flytende handlingsknapper</strong> (rundt ikon i hjørnet av skjermen) som dukker opp når du er i redigeringsmodus: én for å lagre endringer og én for å avbryte uten å lagre.</li>
        <li>En <strong>«+»-knapp</strong> nede i høyre hjørne som brukes til å opprette nye enheter.</li>
        <li><strong>Kameraknapp</strong> øverst i innholdsområdet: åpner et skjermbilde for å skanne en strekkode eller QR-kode for å lese av MAC-adresse.</li>
    </ul>
</ul>

<hr>

<h2>3. Hente eksisterende enhet</h2>

<p>1. <strong>Skriv inn MAC-adressen</strong> i feltet øverst.</p>
<p>2. Klikk <strong>«Hent enhet»</strong>.</p>
<ul>
    <li>Appen kontakter serveren og henter all informasjon om enheten som har den angitte MAC-adressen.</li>
    <li>Hvis henting er vellykket, dukker en informasjonsdialog opp med enhetens detaljer. Samtidig lagres dataene i bakgrunnen slik at du kan redigere eller avbryte senere.</li>
</ul>

<p>3. <strong>Informasjonsdialogen</strong> har to visninger:</p>
<ul>
    <li><strong>Visningsmodus</strong> (lesemodus): Alle felt er låst, og du kan kun lukke dialogen.</li>
    <li><strong>Redigeringsmodus</strong>: For å endre informasjon klikker du på <strong>blyant-ikonet</strong> i dialogens toppfelt. Da blir alle redigerbare felt aktive, og to handlingsknapper for “Lagre” og “Avbryt” vises.</li>
</ul>

<p>4. <strong>Redigeringsmodus</strong>:</p>
<ul>
    <li>Du kan endre rolle, enhetsnavn, utløpstid eller aktiv-status.</li>
    <li>Trykk <strong>«Lagre»</strong> for å sende endringene til serveren.</li>
    <li>Ved suksess: Dialogen går tilbake til visningsmodus med oppdaterte verdier, og du ser en grønn melding om at endringene er lagret.</li>
    <li>Ved feil: Du forblir i redigeringsmodus og får en rød melding som forklarer hva som gikk galt.</li>
    <li>Trykk <strong>«Avbryt»</strong> for å gå tilbake til visningsmodus uten å lagre. Alle felt får tilbake de opprinnelige verdiene som var lagret tidligere.</li>
</ul>

<p>5. For å <strong>lukke dialogen</strong>, klikker du på krysset i øvre høyre hjørne. Du returnerer da til hovedskjermen, hvor MAC-feltet fortsatt viser den adressen du søkte på.</p>

<blockquote>**Tips:** Bruk alltid **«Avbryt»** hvis du vil forkaste endringer før du lagrer. Å lukke dialogen uten å trykke «Avbryt» kan i enkelte tilfeller føre til at redigerte, uskrevne data blir værende i skjemaet.</blockquote>

<hr>

<h2>4. Opprette ny enhet</h2>

<p>1. Klikk <strong>«+»-knappen</strong> nede i høyre hjørne. Da vises et skjema for å opprette en ny enhet.</p>
<p>2. Alle feltene er blanke og redigerbare:</p>
<ul>
    <li>Skriv inn <strong>MAC-adresse</strong>.</li>
    <li>Velg ønsket <strong>rolle</strong> fra nedtrekkslisten.</li>
    <li>Skriv inn <strong>enhetsnavn</strong>.</li>
    <li>Velg dato og klokkeslett for når enheten skal utløpe (valgfritt).</li>
    <li>Huk av om enheten skal være <strong>aktiv</strong> med én gang (valgfritt).</li>
    <li>Feltet <strong>«Sponset av»</strong> fylles automatisk med din e-postadresse.</li>
</ul>

<p>3. Når du har fylt inn, klikker du <strong>«Opprett enhet»</strong>.</p>
<ul>
    <li>Hvis du har glemt obligatoriske felter (MAC og enhetsnavn), vises en rød feilmelding.</li>
    <li>Ved gyldig input: du ser en grønn melding om at enheten er opprettet, og dialogen lukker seg. Appen lagrer den nye enheten i bakgrunnen.</li>
</ul>

<p>4. Etter opprettelse vil MAC-adressen vises i hovedskjermen. Da kan du om ønskelig hente enheten på nytt for å se den nøyaktige informasjonen, eller redigere direkte.</p>

<blockquote>**Merk:** Hvis det finnes en enhet med samme MAC fra før, vil serveren avvise opprettelsen, og du får en feilmelding i rødt. Prøv med en annen MAC-adresse.</blockquote>

<hr>

<h2>5. Bruke kamera / OCR for å lese av MAC</h2>

<p>1. Klikk på <strong>“Kameraknappen”</strong> i toppfeltet på hovedskjermen eller i opprett-/redigeringsdialogen.</p>
<p>2. Appen ber om lov til å bruke kameraet. Gi tillatelse når nettleseren spør.</p>
<p>3. Når kameravinduet åpner seg, ser du en videostrøm fra kameraet. Posisjoner enhetens strekkode, QR-kode eller et synlig skilt som viser MAC-adressen.</p>
<p>4. Juster eventuelt en markørboks rundt området der teksten vises og trykk <strong>«Skann tekst»</strong> for å la OCR-funksjonen gjenkjenne tegnene.</p>
<p>5. Hvis gjenkjenningen lykkes, dukker en liste over mulige tekstresultater opp under videostrømmen. Velg riktig element, og MAC-adressen fylles automatisk inn i skjemaet.</p>
<p>6. Lukk kameravinduet ved å klikke på <strong>«Lukk»-knappen</strong> eller krysset øverst, og fortsett med videre handling (hent, opprett eller oppdater).</p>

<blockquote>**Tips:** OCR fungerer best under godt lys og tydelig kontrast. Hvis resultatene blir feil, prøv å stabilisere kameraet eller forbedre belysningen.</blockquote>

<hr>

<h2>6. Feltforklaringer og vanlige bruksregler</h2>

<ul>
    <li><strong>MAC-adresse</strong></li>
</ul>
<p>Flere formater støttes, for eksempel:</p>
<ul>
    <li>Kolon-separert (f.eks. <code>Ab:CD:eF:12:34:56</code>)</li>
    <li>Bindestreks-separert (f.eks. <code>AB-cD-Ef-12-34-56</code>)</li>
    <li>Singel-bindestreks-separert (f.eks. <code>ABcDEf-123456</code>)</li>
    <li>Punktum separert (f.eks. <code>AbCD.Ef12.3456</code>)</li>
    <li>Uten skilletegn (f.eks. <code>ABcDEf123456</code>)</li>
    <li>Ved oppretting: skriv eller skann MAC.</li>
    <li>Ved henting/redigering: tast inn eksisterende MAC og hent data.</li>
    <li><strong>Rolle</strong></li>
    <li>Velg den rollen som skal knyttes til enheten (f.eks. «Tekniker», «Gjest», «Admin»). Hvis den du ønsker ikke vises, kan det bety at den ikke finnes i systemet. Oppdater siden for å hente de nyeste rollene fra serveren hvis nødvendig.</li>
</ul>

<ul>
    <li><strong>Enhetsnavn</strong></li>
    <li>Fritekstfelt for å gi enheten et gjenkjennbart navn. Obligatorisk ved oppretting og ved endring.</li>
</ul>

<ul>
    <li><strong>Utløper</strong></li>
    <li>Sett dato og klokkeslett for når enheten skal slutte å fungere. Fungerer som en automatisk sperre. Valgfritt – lar du feltet stå tomt, vil enheten ikke ha noe utløp.</li>
</ul>

<ul>
    <li><strong>Aktivert</strong></li>
    <li>Når dette er huket av, fungerer enheten med en gang. Ved oppretting er dette vanligvis ikke huket av med mindre du ønsker å aktivere umiddelbart.</li>
    <li>Ved henting vises det som den siste kjente statusen fra server.</li>
</ul>

<ul>
    <li><strong>Sponset av</strong></li>
    <li>Viser hvilken bruker (din e-postadresse) som opprettet eller sist endret enheten. Feltet fylles automatisk og kan ikke endres manuelt.</li>
</ul>

<ul>
    <li><strong>Lagre / Avbryt</strong></li>
    <li>Når du er i redigeringsmodus, bruk <strong>«Lagre»</strong> for å bekrefte endringene. Bruk <strong>«Avbryt»</strong> dersom du vil angre alle endringer og gå tilbake til forrige lagrede informasjon.</li>
</ul>

<hr>

<h2>7. Logg ut</h2>

<ul>
    <li>Klikk <strong>utloggingsknappen</strong> øverst i høyre hjørne.</li>
    <li>Du sendes tilbake til innloggingsvinduet. For å få tilgang igjen, må du logge inn på nytt med e-post og engangskode.</li>
</ul>

<blockquote>**Viktig:** Alle lokale data (midlertidig lagring av enhetsinfo til redigering) blir slettet ved utlogging. Du får ikke tilgang til dem igjen uten å hente enheten på nytt.</blockquote>

<hr>

<h2>8. Eksempler på vanlige brukerflyter</h2>

<h3>Eksempel A: Hente og redigere en eksisterende enhet</h3>

<p>1. Logg inn med e-post og engangskode.</p>
<p>2. Skriv inn MAC-adressen i inntastingsfeltet.</p>
<p>3. Klikk <strong>«Hent enhet»</strong>. En dialog med enhetens informasjon vises.</p>
<p>4. For å gjøre endringer, klikk på <strong>blyantikonet</strong>. Feltene blir redigerbare.</p>
<p>5. Endre for eksempel utløpstid eller aktiv-status.</p>
<p>6. Klikk <strong>«Lagre»</strong> for å bekrefte. En grønn melding bekrefter at endringene er lagret, og du ser oppdatert innhold i dialogen.</p>
<p>7. Trykk på krysset for å lukke dialogen. Ny informasjon vises i hovedskjermen.</p>

<h3>Eksempel B: Opprette ny enhet</h3>

<p>1. Logg inn.</p>
<p>2. Klikk <strong>«+»-knappen</strong> nede i høyre hjørne. Et tomt skjema vises.</p>
<p>3. Fyll inn alle nødvendige felter:</p>
<ul>
    <li><strong>MAC-adresse</strong> (må følge korrekt format)</li>
    <li><strong>Rolle</strong> (velg fra liste)</li>
    <li><strong>Enhetsnavn</strong></li>
    <li><strong>Utløpstid</strong> (valgfritt)</li>
    <li><strong>Aktivert</strong> (valgfritt)</li>
</ul>
<p>4. Klikk <strong>«Opprett enhet»</strong>.</p>
<p>5. Hvis alt er korrekt, lukkes skjemaet, og du ser en melding om at enheten er opprettet.</p>
<p>6. MAC-adressen legges automatisk inn i søkefeltet på hovedskjermen. Klikk <strong>«Hent enhet»</strong> for å dobbeltsjekke informasjonen, eller gå rett videre til redigering fra dialogen.</p>

<h3>Eksempel C: Bruke kamera for å skanne MAC</h3>

<p>1. Logg inn.</p>
<p>2. Klikk på <strong>kameraikonet</strong>. Et nytt vindu viser videostrøm.</p>
<p>3. Posisjoner enhetens strekkode eller et synlig skilt med MAC foran kameraet.</p>
<p>4. Trykk <strong>«Skann tekst»</strong>. Vent til OCR har funnet tekst.</p>
<p>5. En liste med gjenkjente tekster vises. Velg korrekt tekst for å fylle inn MAC-adressen automatisk.</p>
<p>6. Lukk kamera-vinduet. Fortsett å hente, opprette eller redigere enheten som vanlig.</p>

<hr>

<h2>9. Vanlige feilmeldinger og hva de betyr</h2>

<ul>
    <li><strong>«Feltet ‘Enhetsnavn’ og ‘MAC-adresse’ må fylles ut.»</strong></li>
</ul>
<p>Oppstår når du forsøker å opprette eller oppdatere uten å ha fylt begge obligatoriske felt. Skriv inn begge feltene før du prøver igjen.</p>

<ul>
    <li><strong>«Enhet opprettet.»</strong></li>
</ul>
<p>Bekrefter at en ny enhet er lagret i systemet.</p>

<ul>
    <li><strong>«Endringer lagret.»</strong></li>
</ul>
<p>Bekrefter at dine endringer på en eksisterende enhet er lagret.</p>

<ul>
    <li><strong>«Feil ved henting av enhet»</strong> eller <strong>«Feil ved opprettelse av enhet»</strong></li>
</ul>
<p>Meldingen indikerer feil fra serveren, for eksempel hvis ingen enhet finnes med oppgitt MAC, eller hvis du prøver å opprette en duplikat. Sjekk at MAC-adressen er korrekt og prøv på nytt.</p>

<ul>
    <li><strong>«Nettverksfeil»</strong></li>
</ul>
<p>Viser at appen ikke fikk svar fra server. Kontroller nettverkstilkoblingen og prøv igjen om litt.</p>

<hr>

<h2>10. Tips og anbefalinger</h2>

<ul>
    <li><strong>Bruk «Avbryt»-knappen</strong> når du vil kaste alle endringer du har gjort i redigeringsmodus. Da trykkes ingen endringer gjennom til serveren.</li>
    <li><strong>Hold rollelisten oppdatert</strong> ved å laste siden på nytt hvis du vet at nye roller er lagt til.</li>
    <li><strong>Sørg for riktig MAC-format</strong>; dersom formatet er feil, vil ikke systemet finne eller akseptere enheten.</li>
    <li><strong>God belysning for OCR</strong>: Hvis du bruker kamera til å skanne MAC, sørg for godt lys og strekkodensikt uten skygger.</li>
</ul>

<hr>

<h2>12. Tastatursnarveier</h2>

<ul>
    <li><strong>Enter</strong>: utfører «Hent enhet» når du står i inntastingsfeltet for MAC-adresse.</li>
    <li>I opprett- eller redigeringsdialoger, når du står i et tekstfelt, vil <strong>Enter</strong> vanligvis aktivere standardhandlingen:</li>
    <ul>
        <li>Hvis fokus er på et input-felt i en redigeringsdialog, tilsvarer <strong>Enter</strong> som regel «Lagre»-knappen, slik at du kan sende inn endringer raskt.</li>
        <li>I opprettingsdialogen, når alle obligatoriske felter er utfylt, vil <strong>Enter</strong> aktivere «Opprett enhet».</li>
    </ul>
    <li><strong>Esc</strong>: lukker modaler uten å lagre endringer.</li>
    <ul>
        <li>I alle modaler (hente, opprette, redigere, og kamera-dialog), kan du trykke <strong>Esc</strong> for å lukke modalen.</li>
        <li>Hvis du er i redigeringsmodus for enhet og har gjort endringer, fungerer <strong>Esc</strong> på samme måte som «Avbryt»: endringer kastes og du går tilbake til visningsmodus.</li>
        <li>I kameramodalen vil <strong>Esc</strong> lukke kamera uten å skanne.</li>
        <li>I en enkel visningsmodal (uten aktiv redigering) vil <strong>Esc</strong> bare lukke modalen.</li>
    </ul>
</ul>

<p>Disse snarveiene gjør det raskere å navigere i appen uten å bruke musen hele tiden.</p>

<h2>11. Sammendrag</h2>

<p>1. <strong>Logg inn</strong> med e-post og kode.</p>
<p>2. På hovedskjermen:</p>
<ul>
    <li>Hent eksisterende enhet ved å skrive inn MAC og trykke <strong>«Hent enhet»</strong>.</li>
    <li>Rediger ved å klikke blyantikonet, så <strong>«Lagre»</strong> eller <strong>«Avbryt»</strong>.</li>
    <li>Opprett ny enhet ved å klikke <strong>«+»</strong>, fylle ut skjemaet og trykke <strong>«Opprett enhet»</strong>.</li>
    <li>Skann MAC med <strong>kameraikonet</strong> for rask inntasting.</li>
</ul>
<p>3. <strong>Logg ut</strong> ved å klikke utloggingsknappen øverst til høyre.</p>

<p>Med denne veiledningen kan du enkelt hente, opprette og endre enheter i systemet uten å bekymre deg for tekniske detaljer. Lykke til!</p>

</body>
</html>